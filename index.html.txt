<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harmonica Worship</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff; --text: #1a1a1a; --muted: #777; --accent: #ff9900;
            --border: #eeeeee; --input-bg: #f5f5f5;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f0f0f; --text: #f0f0f0; --muted: #888; --accent: #ffaa22;
                --border: #222; --input-bg: #222;
            }
        }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--bg); color: var(--text); }
        header { padding: 30px 20px; text-align: center; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: var(--bg); z-index: 100; }
        .search-box { max-width: 500px; margin: 20px auto; position: relative; }
        #searchInput {
            width: 100%; padding: 15px 45px; border-radius: 35px; border: 1px solid var(--border);
            background: var(--input-bg); color: var(--text); font-size: 1rem; outline: none; box-sizing: border-box;
        }
        .search-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); width: 20px; fill: var(--muted); }
        .lang-btn { background: none; border: 1px solid var(--border); color: var(--muted); padding: 5px 15px; cursor: pointer; border-radius: 20px; font-weight: 700; margin: 0 5px; }
        .lang-btn.active { background: var(--text); color: var(--bg); }
        .container { max-width: 800px; margin: 20px auto; padding: 0 20px; }
        
        /* Стан пісні */
        .song-unit { display: block; padding: 40px 0; border-bottom: 1px solid var(--border); animation: fadeIn 0.5s; }
        .song-unit.hidden { display: none; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .section-title { font-size: 0.8rem; font-weight: 900; color: var(--accent); text-transform: uppercase; margin: 30px 0 10px; }
        .line-group { font-family: 'Roboto Mono', monospace; margin-bottom: 25px; line-height: 1.6; }
        .tabs { display: block; font-size: 24px; font-weight: 700; color: var(--text); margin-bottom: 4px; }
        .lyrics { display: block; font-size: 16px; color: var(--muted); }
        h2 { font-size: 2rem; margin: 0; }
    </style>
</head>
<body>

<header>
    <div class="lang-switcher" style="margin-bottom: 15px;">
        <button class="lang-btn" id="btn-uk" onclick="setLang('uk')">UA</button>
        <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
    </div>
    <h1 style="font-weight:900; letter-spacing:-1px;">HARMONICA WORSHIP</h1>
    <div class="search-box">
        <svg class="search-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <input type="text" id="searchInput" placeholder="Пошук пісні..." oninput="filterSongs()">
    </div>
</header>

<div class="container" id="songs-wrapper">
    </div>

<script>
    let currentLang = 'uk';
    
    const songData = [
        {
            id: "altar",
            uk: { 
                title: "Прийди до вівтаря", 
                artist: "Elevation Worship", 
                sections: [
                    { name: "Куплет 1", lines: [{ t: "5 5 5 -4 4 4 -3 3 5", l: "Маєш біль, маєш зламаний дух" }] },
                    { name: "Приспів", lines: [{ t: "4 -4 5 4 -5 5 4 4 -4 5 -5 5 -4 4", l: "В обійми Ісуса ти перед вівтарем прийди" }] }
                ] 
            },
            en: { 
                title: "O Come to the Altar", 
                artist: "Elevation Worship", 
                sections: [
                    { name: "Verse 1", lines: [{ t: "5 5 5 -4 4 4 -3 3 5", l: "Are you hurt and broken within?" }] },
                    { name: "Chorus", lines: [{ t: "4 -4 5 4 -5 5 4 4 -4 5 -5 5 -4 4", l: "O come to the altar, the Father's arms are open wide" }] }
                ] 
            }
        },
        {
            id: "how-he-loves",
            uk: { 
                title: "Як Він любить", 
                artist: "David Crowder", 
                sections: [
                    { name: "Куплет", lines: [{ t: "6 5 5 -4 4 4", l: "Вiн oгoртaє мeнe," }] },
                    { name: "Приспів", lines: [{ t: "6 -6 6 5 6 6", l: "O, як Вiн любить нac," }] }
                ] 
            },
            en: { 
                title: "How He Loves", 
                artist: "David Crowder", 
                sections: [
                    { name: "Verse", lines: [{ t: "6 5 5 -4 4 4", l: "He is jealous for me" }] },
                    { name: "Chorus", lines: [{ t: "6 -6 6 5 6 6", l: "Oh, how He loves us so" }] }
                ] 
            }
        }
    ];

    function setLang(lang) {
        currentLang = lang;
        document.getElementById('btn-uk').classList.toggle('active', lang === 'uk');
        document.getElementById('btn-en').classList.toggle('active', lang === 'en');
        renderSongs();
    }

    function renderSongs() {
        const wrapper = document.getElementById('songs-wrapper');
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        
        let html = '';
        songData.forEach(song => {
            const data = song[currentLang];
            // Перевірка чи відповідає пісня пошуку
            const isVisible = data.title.toLowerCase().includes(searchTerm) || data.artist.toLowerCase().includes(searchTerm);
            
            html += `<div class="song-unit ${isVisible ? '' : 'hidden'}">
                <h2>${data.title}</h2>
                <div style="color:var(--muted); margin-bottom:20px;">${data.artist}</div>`;
            
            data.sections.forEach(sec => {
                html += `<div class="section-title">${sec.name}</div>`;
                sec.lines.forEach(line => {
                    html += `<div class="line-group">
                        <span class="tabs">${line.t}</span>
                        <span class="lyrics">${line.l}</span>
                    </div>`;
                });
            });
            html += `</div>`;
        });
        wrapper.innerHTML = html;
    }

    function filterSongs() {
        renderSongs(); // Просто перемальовуємо список при кожному вводі
    }

    // Запуск при завантаженні
    window.onload = () => setLang('uk');
</script>

</body>
</html>