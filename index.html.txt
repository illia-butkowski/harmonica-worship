<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harmonica Worship | Tabs</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff; --text: #1a1a1a; --muted: #777; --accent: #ff9900;
            --card-bg: #fdfdfd; --border: #eeeeee; --input-bg: #f5f5f5;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f0f0f; --text: #f0f0f0; --muted: #888; --accent: #ffaa22;
                --card-bg: #1a1a1a; --border: #222; --input-bg: #222;
            }
        }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--bg); color: var(--text); transition: 0.3s; }
        
        header { 
            padding: 50px 20px; text-align: center; border-bottom: 1px solid var(--border);
            position: sticky; top: 0; background: var(--bg); z-index: 100;
        }

        h1 { font-weight: 900; letter-spacing: -2px; font-size: 2.2rem; margin: 10px 0; }

        .search-box { 
            max-width: 500px; margin: 25px auto; position: relative; 
        }
        
        #searchInput {
            width: 100%; padding: 15px 25px 15px 45px; border-radius: 35px; border: 1px solid var(--border);
            background: var(--input-bg); color: var(--text); font-size: 1.1rem; outline: none;
            transition: 0.2s;
        }
        #searchInput:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(255,153,0,0.2); }

        .search-icon {
            position: absolute; left: 18px; top: 50%; transform: translateY(-50%);
            fill: var(--muted); width: 20px; height: 20px;
        }

        .lang-switcher { margin-bottom: 15px; }
        .lang-btn { 
            background: none; border: 1px solid var(--border); color: var(--muted); 
            padding: 6px 16px; cursor: pointer; border-radius: 20px; font-size: 0.8rem; font-weight: 700; 
        }
        .lang-btn.active { background: var(--text); color: var(--bg); border-color: var(--text); }
        
        .container { max-width: 800px; margin: 30px auto; padding: 0 20px; }

        /* Стиль пісні */
        .song-unit { 
            display: none; padding-bottom: 60px; animation: slideUp 0.4s ease-out;
        }
        .song-unit.active { display: block; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .section-title { font-size: 0.8rem; font-weight: 900; color: var(--accent); text-transform: uppercase; margin: 40px 0 15px; letter-spacing: 2px; }
        .line-group { font-family: 'Roboto Mono', monospace; margin-bottom: 30px; line-height: 1.6; }
        .tabs { display: block; font-size: 26px; font-weight: 700; color: var(--text); margin-bottom: 4px; letter-spacing: -1px; }
        .lyrics { display: block; font-size: 17px; color: var(--muted); }
        
        .catalog-hint { text-align: center; color: var(--muted); margin-top: 20px; font-size: 0.9rem; }
        .meta { color: var(--muted); font-size: 1rem; margin-bottom: 40px; border-left: 3px solid var(--accent); padding-left: 15px; }
    </style>
</head>
<body>

<header>
    <div class="lang-switcher">
        <button class="lang-btn" id="btn-uk" onclick="setLang('uk')">UA</button>
        <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
    </div>
    <h1>HARMONICA WORSHIP</h1>
    <div class="search-box">
        <svg class="search-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <input type="text" id="searchInput" placeholder="Введіть назву пісні..." onkeyup="filterSongs()">
    </div>
</header>

<div class="container">
    <div id="catalogHint" class="catalog-hint">Введіть назву пісні (напр. "Прийди" або "Як він"), щоб побачити таби</div>
    <div id="songs-wrapper"></div>
</div>

<script>
    let currentLang = 'uk';
    
    const songData = [
        {
            id: "altar",
            uk: {
                title: "Прийди до вівтаря", artist: "Elevation Worship", key: "C",
                sections: [
                    { name: "Куплет 1", lines: [
                        { t: "5 5 5 -4 4 4 -3 3 5", l: "Маєш біль, маєш зламаний дух" },
                        { t: "5 5 5 -4 4 4 -3 3 5", l: "Тиск гріха уповільнює рух" }
                    ]},
                    { name: "Приспів", lines: [
                        { t: "4 -4 5 4 -5 5 4 4 -4 5 -5 5 -4 4", l: "В обійми Ісуса ти перед вівтарем прийди" }
                    ]}
                ]
            },
            en: {
                title: "O Come to the Altar", artist: "Elevation Worship", key: "C",
                sections: [
                    { name: "Verse 1", lines: [
                        { t: "5 5 5 -4 4 4 -3 3 5", l: "Are you hurt and broken within?" },
                        { t: "5 5 5 -4 4 4 -3 3 5", l: "Overwhelmed by the weight of sin?" }
                    ]}
                ]
            }
        },
        {
            id: "how-he-loves",
            uk: {
                title: "Як Він любить", artist: "David Crowder", key: "C",
                sections: [
                    { name: "Куплет", lines: [
                        { t: "6 5 5 -4 4 4", l: "Вiн oгoртaє мeнe," },
                        { t: "6 5 5 5 -4 4 6 5 5 5", l: "В Любoвi Йoгo вiдчувaю ceбe" },
                        { t: "-4 -4 4 -4 -4 -4 -4 4 -4 5 -5 6 5", l: "Як гiлкa, щo гнeтьcя пiд вiтрoм Йoгo блaгoдaтi." }
                    ]},
                    { name: "Приспів", lines: [
                        { t: "6 -6 6 5 6 6", l: "O, як Вiн любить нac," },
                        { t: "-4 -4 5 -5 6 5", l: "O, як Вiн любить, як Вiн любить нac." }
                    ]},
                    { name: "Брідж", lines: [
                        { t: "9 8 8 8 -8 7 9 8 8 8", l: "Вiн нac вcинoвив, Вiн — нaш Спacитeль," },
                        { t: "7 -8 -8 8 -9 8 8 8 8 -8 7", l: "Йoгo блaгoдaть — oкeaн, в якoму ми тoнeм." }
                    ]
                }
            },
            en: {
                title: "How He Loves", artist: "David Crowder", key: "C",
                sections: [
                    { name: "Verse", lines: [
                        { t: "6 5 5 -4 4 4", l: "He is jealous for me" },
                        { t: "6 5 5 5 -4 4 6 5 5 5", l: "Love's like a hurricane, I am a tree" }
                    ]},
                    { name: "Chorus", lines: [
                        { t: "6 -6 6 5 6 6", l: "Oh, how He loves us so" }
                    ]}
                ]
            }
        }
    ];

    function setLang(lang) {
        currentLang = lang;
        document.getElementById('btn-uk').className = 'lang-btn' + (lang === 'uk' ? ' active' : '');
        document.getElementById('btn-en').className = 'lang-btn' + (lang === 'en' ? ' active' : '');
        document.getElementById('searchInput').placeholder = lang === 'uk' ? "Введіть назву пісні..." : "Search song title...";
        document.getElementById('catalogHint').innerText = lang === 'uk' ? "Почніть вводити назву пісні..." : "Start typing a song title...";
        renderSongs();
        filterSongs(); // Оновити видимість після зміни мови
    }

    function renderSongs() {
        const wrapper = document.getElementById('songs-wrapper');
        wrapper.innerHTML = '';
        songData.forEach(song => {
            const data = song[currentLang];
            let html = `<div class="song-unit" id="${song.id}" data-search="${data.title.toLowerCase()}">
                <h2 style="font-size: 2.2rem; margin-bottom: 10px;">${data.title}</h2>
                <div class="meta">${data.artist} • Тональність: ${data.key}</div>`;
            
            data.sections.forEach(sec => {
                html += `<div class="section-title">${sec.name}</div>`;
                sec.lines.forEach(line => {
                    html += `<div class="line-group">
                        <span class="tabs">${line.t}</span>
                        <span class="lyrics">${line.l}</span>
                    </div>`;
                });
            });
            html += `</div>`;
            wrapper.innerHTML += html;
        });
    }

    function filterSongs() {
        let input = document.getElementById('searchInput').value.toLowerCase();
        let songs = document.getElementsByClassName('song-unit');
        let hint = document.getElementById('catalogHint');
        let anyVisible = false;

        for (let i = 0; i < songs.length; i++) {
            let title = songs[i].getAttribute('data-search');
            if (input.length > 0 && title.includes(input)) {
                songs[i].classList.add('active');
                anyVisible = true;
            } else {
                songs[i].classList.remove('active');
            }
        }
        
        hint.style.display = anyVisible ? "none" : "block";
    }

    setLang('uk');
</script>

</body>
</html>